#include <iostream>
#include <fstream>
#include <algorithm>
#include <vector>
#include <set>
#include <map>
#include <queue>
#include <string>
#include<math.h>
#include <cstdint>

using namespace std;

#define debug 1
#if debug
ifstream fin("input.txt");

#else
#define fin cin
#endif

int t,n;

vector<char>ciclu;
map<char,int>viz;
vector<char>parcurse;

vector<char>graf[30];


void findciclu(int nod,int tata) {

       parcurse.push_back(nod);
    viz[nod] = 1;
    for (auto i : graf[nod]) {
        if (!viz[i] && i!=tata) {
            findciclu(i,nod);

        }else if (viz[i] && i!=tata) {
        if (ciclu.size() == 0)

            for (int j = parcurse.size()-1;j>=0;--j) {

                ciclu.push_back(parcurse[j]);
                if (parcurse[j] == i)
                    break;
            }


        }




        parcurse.pop_back();

    }



}



int main() {
    fin>>t;

    while (t--) {
        fin>>n;

        for (int i = 1;i <= n;i++)
            viz[i] = 0;
        for (int i = 1;i <= 26;i++)
            graf[i].clear();
        ciclu.clear();

        set<pair<char,char>>aux;
        for (int i = 1;i <= n;i++) {
            char x,y;
            fin>>x>>y;
            aux.insert({x,y});
        }

        for (char c = 'a';c <= 'z';c++)
            for (char c1 = 'a';c1 <= 'z';c1++)
                if (aux.find({c,c1}) == aux.end())
                    graf[c - 'a' + 1].push_back(c1);
        for (char c = 'a';c <= 'z';c++) {
            findciclu(c - 'a' + 1,0);
            if (ciclu.size()) {
                vector<pair<char,char>>x;
                for (int i = 0;i < ciclu.size() - 1;i++) {
                    x.push_back({ciclu[i],ciclu[i + 1]});
                }

                x.push_back({ciclu[ciclu.size()-1],ciclu[0]});
            }
            for (int i = 1;i <= n;i++)
                viz[i] = 0;
        }




    }
}